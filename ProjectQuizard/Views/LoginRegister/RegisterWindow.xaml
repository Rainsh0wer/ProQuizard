<Window x:Class="ProjectQuizard.Views.LoginRegister.RegisterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quizard - Create Account" 
        Height="700" 
        Width="900"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="White">
    <Window.Resources>
        <local:StringNullOrEmptyToVisibilityConverter x:Key="StringNullOrEmptyToVisibilityConverter" />
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="450"/>
        </Grid.ColumnDefinitions>

        <!-- Left Side - Branding -->
        <Grid Grid.Column="0" Background="#2D2D30">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Margin="50">
                <TextBlock Text="ðŸ‘¤" FontSize="72" HorizontalAlignment="Center" Margin="0,0,0,30"/>
                <TextBlock Text="Join Quizard" 
                          FontSize="42" 
                          FontWeight="Bold" 
                          Foreground="White" 
                          HorizontalAlignment="Center"
                          Margin="0,0,0,20"/>
                <TextBlock Text="Start Your Learning Journey" 
                          FontSize="18" 
                          Foreground="White" 
                          HorizontalAlignment="Center"
                          Opacity="0.8"/>
                <TextBlock Text="Create an account to access thousands of quizzes" 
                          FontSize="14" 
                          Foreground="White" 
                          HorizontalAlignment="Center"
                          Opacity="0.6"
                          Margin="0,10,0,0"/>
            </StackPanel>
        </Grid>

        <!-- Right Side - Register Form -->
        <Grid Grid.Column="1" Background="White">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel VerticalAlignment="Center" Margin="60,40">
                    <TextBlock Text="Create Account" 
                              FontSize="28" 
                              FontWeight="Bold" 
                              Margin="0,0,0,10"
                              Foreground="#2D2D30"/>
                    <TextBlock Text="Fill in your details to get started" 
                              FontSize="14" 
                              Margin="0,0,0,30"
                              Opacity="0.6"/>

                    <!-- Error Message -->
                    <Border Background="#E57373" 
                           CornerRadius="4" 
                           Padding="15,10"
                           Margin="0,0,0,20"
                           Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}">
                        <TextBlock Text="{Binding ErrorMessage}" 
                                  Foreground="White" 
                                  FontSize="12"/>
                    </Border>

                    <!-- Full Name Field with Watermark -->
                    <Grid Margin="0,0,0,15">
                        <TextBox x:Name="FullNameBox"
                                Text="{Binding FullName, UpdateSourceTrigger=PropertyChanged}"
                                FontSize="14"/>
                        <TextBlock Text="Full Name" 
                                   Foreground="Gray" 
                                   Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   IsHitTestVisible="False"
                                   FontSize="14"
                                   Visibility="{Binding Text, ElementName=FullNameBox, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"/>
                    </Grid>

                    <!-- Username Field with Watermark -->
                    <Grid Margin="0,0,0,15">
                        <TextBox x:Name="UsernameBox"
                                Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                                FontSize="14"/>
                        <TextBlock Text="Username" 
                                   Foreground="Gray" 
                                   Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   IsHitTestVisible="False"
                                   FontSize="14"
                                   Visibility="{Binding Text, ElementName=UsernameBox, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"/>
                    </Grid>

                    <!-- Email Field with Watermark -->
                    <Grid Margin="0,0,0,15">
                        <TextBox x:Name="EmailBox"
                                Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                                FontSize="14"/>
                        <TextBlock Text="Email Address" 
                                   Foreground="Gray" 
                                   Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   IsHitTestVisible="False"
                                   FontSize="14"
                                   Visibility="{Binding Text, ElementName=EmailBox, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"/>
                    </Grid>

                    <!-- Role Selection -->
                    <ComboBox ItemsSource="{Binding Roles}"
                             SelectedItem="{Binding SelectedRole}"
                             Margin="0,0,0,15"
                             FontSize="14"/>

                    <!-- Password Field with Watermark -->
                    <Grid Margin="0,0,0,15">
                        <PasswordBox x:Name="PasswordBox"
                                    FontSize="14"/>
                        <TextBlock Text="Password" 
                                   Foreground="Gray" 
                                   Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   IsHitTestVisible="False"
                                   FontSize="14"
                                   Visibility="{Binding Password, ElementName=PasswordBox, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"/>
                    </Grid>

                    <!-- Confirm Password Field with Watermark -->
                    <Grid Margin="0,0,0,25">
                        <PasswordBox x:Name="ConfirmPasswordBox"
                                    FontSize="14"/>
                        <TextBlock Text="Confirm Password" 
                                   Foreground="Gray" 
                                   Margin="5,0,0,0"
                                   VerticalAlignment="Center"
                                   IsHitTestVisible="False"
                                   FontSize="14"
                                   Visibility="{Binding Password, ElementName=ConfirmPasswordBox, Converter={StaticResource StringNullOrEmptyToVisibilityConverter}}"/>
                    </Grid>

                    <!-- Register Button -->
                    <Button Content="Create Account"
                           Command="{Binding RegisterCommand}"
                           Background="#2D2D30"
                           BorderBrush="#2D2D30"
                           Foreground="White"
                           Height="45"
                           FontSize="15"
                           FontWeight="Bold"
                           Margin="0,0,0,15"
                           BorderThickness="1"
                           CornerRadius="25"/>

                    <!-- Loading Indicator -->
                    <ProgressBar IsIndeterminate="True"
                               Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"
                               Margin="0,0,0,15"/>

                    <!-- Login Link -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15,0,0">
                        <TextBlock Text="Already have an account? " 
                                  Foreground="#2D2D30"
                                  VerticalAlignment="Center"/>
                        <Button Content="Sign In"
                               Command="{Binding ShowLoginCommand}"
                               Background="Transparent"
                               BorderBrush="Transparent"
                               Foreground="#2D2D30"
                               FontWeight="Bold"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>